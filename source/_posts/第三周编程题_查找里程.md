---
title: 第三周编程题_查找里程
categories: 面向对象程序设计_Java语言_翁恺
tags:
  - Java
abbrlink: 25475
date: 2017-08-21 14:06:05
---
## 题目内容：
下图为国内主要城市之间的公路里程：

![](/images/6630868754095812824.jpg)

你的程序要读入这样的一张表，然后，根据输入的两个城市的名称，给出这两个城市之间的里程。

注意：任何两个城市之间的里程都已经给出，不需要计算经第三地中转。
注意：你并不需要去录入上图的数据，数据是在程序输入中给的。

## 输入格式:
首先，你会读到若干个城市的名字。每个名字都只是一个英文单词，中间不含空格或其他符号。当读到名字为“###”（三个#号）时，表示城市名字输入结束，###并不是一个城市的名字。如果记读到的城市名字的数量为n。
然后，你会读到nxn的一个整数矩阵。第一行的每一个数字，表示上述城市名单中第一个城市依次到另一个城市之间的里程。表中同一个城市之间的里程为0。
最后，你会读到两个城市的名字。

## 输出格式：
输出这两个城市之间的距离。

## 输入样例：
<div class="note default no-icon"><p>Hagzou Hugzou Jigxng ###
0 1108 708
1108 0 994
708 994 0
Hagzou Jigxng
</p></div>

## 输出样例：
<div class="note default no-icon"><p>708
</p></div>

**时间限制：500ms内存限制：32000kb**
## 代码：
```Java
package 面向对象程序设计_Java语言_翁恺;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.Scanner;

public class Third_Week
{
	private ArrayList<String> city = new ArrayList<String>();
	private HashMap<String, HashMap<String, Integer>> distince = new HashMap<String, HashMap<String, Integer>>();
	private static Scanner in = new Scanner(System.in);

	// 输入城市名及距离
	public void input()
	{
//		Scanner in = new Scanner(System.in);
		String temp;
		// 读入城市名
		while (true)
		{
			temp = in.next();
			if (temp.equals("###") == true)
				break;
			city.add(temp);
		}
		// 读入距离
		for (int i = 0; i < city.size(); i++)
		{
			HashMap<String, Integer> temp_hashmap = new HashMap<String, Integer>();
			for (int j = 0; j < city.size(); j++)
			{
				int dis = in.nextInt();
				temp_hashmap.put(city.get(j), dis);
			}
			distince.put(city.get(i), temp_hashmap);
		}
//		in.close();
	}

	// 查找两个城市间的距离
	public int search(String start, String end)
	{
		int dis = 0;
		dis = distince.get(start).get(end);
		return dis;
	}

	public static void main(String[] args)
	{
		// TODO Auto-generated method stub
		Third_Week dis = new Third_Week();
//		Scanner in = new Scanner(System.in);
		dis.input();
		String start = in.next();
		String end = in.next();
		System.out.println(dis.search(start, end));
		in.close();
	}

}

```
## 小结：
题目中给的样例有问题，有的地方多了几个空格，导致在本机测样例的时候，一直无输出，调试了半天。
手打了样例之后，发现要查询的两个城市的名字无法读入，怀疑是scanner关闭了两次的问题，注释掉input()方法中的`in.close()`，果然。。。
但是又有个warning，提示`input()`方法中的in没有关闭。强迫症，把scanner写成全局的，完美解决。
开始没读清题意，以为要查询多组城市间的距离，查了下Java中读到末尾的方法，学会了`hasnext()`等方法。
链接：[java中关于判断文本文件读到文件尾](http://blog.csdn.net/kejizuiqianfang/article/details/55253698)
链接：[java使用两个scanner，关闭输入流](http://blog.csdn.net/wn1017888485/article/details/46039361)